extends layout

block content
    div(ng-controller="listCtrl")
        .panel.panel-default
            .panel-body
                form
                    .form-group.col-sm-4.col-md-3
                        label Select City {{selectedCity.city}}
                        ui-select(ng-model="city.selected")
                          ui-select-match
                              span(ng-bind="$select.selected.city")
                          ui-select-choices(repeat="item in (cities | filter: $select.search) track by item.id")
                              span(ng-bind="item.city")

                    .form-group.col-sm-4.col-md-3
                        label Select Ward {{selectedWard.ward}}
                        ui-select(ng-model="ward.selected")
                          ui-select-match
                              span(ng-bind="$select.selected.ward")
                          ui-select-choices(repeat="item in (wards | filter: $select.search) track by item.id")
                              span(ng-bind="item.ward")

                    .form-group.col-sm-4.col-md-3
                        label Select Candidate {{selectedName.name}}
                        ui-select(ng-model="name.selected")
                          ui-select-match
                              span(ng-bind="$select.selected.name")
                          ui-select-choices(repeat="item in (names | filter: $select.search) track by item.id")
                              span(ng-bind="item.name")

                    .form-group.col-sm-4.col-md-3
                        div.text-center
                            br
                            a.button.btn.btn-primary(ng-click="showAll()") Show All

        .panel.panel-default
            .panel-body
                p.text-center
                    | Showing
                    strong  {{selCnt}}
                    |  /
                    strong  {{totCnt}}
                    |  results for
                    b  {{msgcity}},
                    b  {{msgward}}
                    |  and
                    b  {{msgname}}



        div(ng-repeat="p in profiles")
            div(ng-if="$index % 4 === 0")
                .clearfix.visible-md.visible-lg
            div(ng-if="$index % 3 === 0")
                .clearfix.visible-sm
            .col-sm-4.col-md-3
                .thumbnail
                    img(src="images/male.jpg", height="250", width="200", ng-if="p.sex == 1")
                    img(src="images/female.jpg", height="250",width="200", ng-if="p.sex == 0")
                    .caption
                        h4 {{p.Name}}
                    h5
                        b City:
                        |  {{p.City}}
                    h5
                        b Ward:
                        |  {{p.Ward}}
                    h5
                        b DoB:
                        |  {{p.DoB}}
                    h5
                        b History:
                        ul
                            div(ng-repeat="(key, value) in p.history")
                                li
                                    b {{key}}:
                                    | {{value}}

                    a.btn.btn-primary(href="#", role="button")
                        | Details
                    hr
                    a.btn.btn-default(href="#", role="button")
                        | Facebook 
                    a.btn.btn-default(href="#", role="button")
                        | Twitter 
                    a.btn.btn-default(href="#", role="button")
                        | Website 






